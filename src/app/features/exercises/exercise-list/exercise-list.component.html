<div class="min-h-screen pb-20">
  <!-- Header -->
  <div class="bg-therapy-primary text-white p-6 shadow-lg">
    <h1 class="text-2xl font-bold">Speech Exercises</h1>
    <p class="text-indigo-100 text-sm mt-1">Manage your therapy exercises</p>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="p-6 space-y-4">
    <div class="card animate-pulse">
      <div class="h-20 bg-gray-200 rounded"></div>
    </div>
    <div class="card animate-pulse">
      <div class="h-20 bg-gray-200 rounded"></div>
    </div>
  </div>

  <!-- Exercise List -->
  <div *ngIf="!loading" class="p-4 space-y-4">
    <div *ngFor="let exercise of exercises" class="card hover:shadow-lg transition-shadow">
      <div class="flex justify-between items-start mb-3">
        <div class="flex-1">
          <h3 class="text-lg font-semibold text-gray-800">{{ exercise.name }}</h3>
          <p *ngIf="exercise.description" class="text-sm text-gray-600 mt-1">
            {{ exercise.description }}
          </p>
        </div>
      </div>

      <div *ngIf="exercise.why" class="bg-blue-50 border-l-4 border-therapy-primary p-3 mb-3 rounded">
        <p class="text-xs font-medium text-gray-600 mb-1">Why this exercise?</p>
        <p class="text-sm text-gray-700">{{ exercise.why }}</p>
      </div>

      <!-- Action Buttons -->
      <div *ngIf="deleteConfirm !== exercise.id" class="flex space-x-2">
        <button (click)="editExercise(exercise.id!)" 
                class="flex-1 bg-blue-500 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-600 active:scale-95 transition-all">
          Edit
        </button>
        <button (click)="confirmDelete(exercise.id!)" 
                class="flex-1 bg-red-500 text-white px-4 py-2 rounded-lg font-medium hover:bg-red-600 active:scale-95 transition-all">
          Delete
        </button>
      </div>

      <!-- Delete Confirmation -->
      <div *ngIf="deleteConfirm === exercise.id" class="bg-red-50 border-2 border-red-300 p-3 rounded-lg">
        <p class="text-sm text-red-800 font-medium mb-3">Are you sure you want to delete this exercise?</p>
        <div class="flex space-x-2">
          <button (click)="deleteExercise(exercise.id!)" 
                  class="flex-1 bg-red-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-red-700 active:scale-95 transition-all">
            Confirm Delete
          </button>
          <button (click)="cancelDelete()" 
                  class="flex-1 bg-gray-300 text-gray-800 px-4 py-2 rounded-lg font-medium hover:bg-gray-400 active:scale-95 transition-all">
            Cancel
          </button>
        </div>
      </div>
    </div>

    <!-- Empty State -->
    <div *ngIf="exercises.length === 0" class="text-center py-12">
      <svg class="w-24 h-24 mx-auto text-gray-300 mb-4" fill="currentColor" viewBox="0 0 20 20">
        <path fill-rule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"/>
      </svg>
      <h3 class="text-xl font-semibold text-gray-700 mb-2">No Exercises Yet</h3>
      <p class="text-gray-500 mb-6">Add your first speech therapy exercise</p>
    </div>

    <!-- Add Button -->
    <button (click)="addExercise()" class="btn-primary w-full">
      + Add New Exercise
    </button>
  </div>
</div>
